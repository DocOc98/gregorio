%GregorioTeX file.
%
% Copyright (C) 2007-2015 The Gregorio Project (see CONTRIBUTORS.md)
%
% This file is part of Gregorio.
%
% Gregorio is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
%
% Gregorio is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You should have received a copy of the GNU General Public License
% along with Gregorio.  If not, see <http://www.gnu.org/licenses/>.

\gre@declarefileversion{gregoriotex-chars.tex}{3.0.2}% GREGORIO_VERSION

% bars
\def\gre@char@divisiomaior{\grecpDivisioMaior}%
\def\gre@char@virgula{\grecpVirgula}%
\def\gre@char@divisiominima{\grecpDivisioMinima}%
\def\gre@char@divisiominor{\grecpDivisioMinor}%
\def\gre@char@divisiodominican{\grecpDivisioDominican}%
\def\gre@char@divisiodominicanalt{\grecpDivisioDominicanAlt}%

\def\gre@char@punctumcavum{\grecpPunctumCavum}%
\def\gre@char@lineapunctumcavum{\grecpLineaPunctumCavum}%
\def\gre@char@punctumcavumhole{\grecpPunctumCavumHole}%
\def\gre@char@lineapunctumcavumhole{\grecpLineaPunctumCavumHole}%

% notes (to compute different widths)
\def\gre@char@smallpunctum{\grecpPunctumDeminutus}%
\def\gre@char@punctum{\grecpPunctum}%
\def\gre@char@punctuminclinatum{\grecpPunctumInclinatum}%
\def\gre@char@stropha{\grecpStropha}%
\def\gre@char@strophaaucta{\grecpStrophaAucta}%
\def\gre@char@quilisma{\grecpQuilisma}%
\def\gre@char@quilisma@line@tr{\grecpQuilismaLineTR}%
\def\gre@char@oriscus{\grecpOriscus}%
\def\gre@char@oriscus@line@tr{\grecpOriscusLineTR}%
\def\gre@char@oriscusauctus{\grecpOriscusReversus}%
\def\gre@char@punctuminclinatumdem{\grecpPunctumInclinatumAuctus}%
\def\gre@char@lineapunctum{\grecpLineaPunctum}%
\def\gre@char@peshigh{\grecpPunctumSmall}%
\def\gre@char@virga{\grecpVirga}%
\def\gre@char@virgaaucta{\grecpVirgaReversaDescendens}%
\def\gre@char@punctum@line@br{\grecpPunctumLineBR}%
\def\gre@char@punctum@line@tr{\grecpPunctumLineTR}%
\def\gre@char@punctum@line@tl{\grecpPunctumLineTL}%
\def\gre@char@punctum@line@bl{\grecpPunctumLineBL}%
\def\gre@char@punctum@line@blbr{\grecpPunctumLineBLBR}%
\def\gre@char@punctumauctus@line@bl{\grecpPunctumAuctusLineBL}%
\def\gre@char@pesinitauctus{\grecpPesQuadratumTwoInitioDebilisDescendens}%
\def\gre@char@pesinitauctusone{\grecpPesQuadratumOneInitioDebilisDescendens}%
\def\gre@char@flexus{\grecpPesQuadratumLongqueueThreeNothing}%
\def\gre@char@flexusone{\grecpPesQuadratumLongqueueOneNothing}%
\def\gre@char@flexusdeminutus{\grecpFlexusTwoDeminutus}%
\def\gre@char@flexusaltone{\grecpFlexusNobarOneNothing}%
\def\gre@char@flexusalt{\grecpFlexusNobarTwoNothing}%
\def\gre@char@flexusaltone@line@bl{\grecpFlexusAmOneLineBL}%
\def\gre@char@flexusalt@line@bl{\grecpFlexusLineBL}%
\def\gre@char@virga@line@br{\grecpVirgaLineBR}%
\def\gre@char@torculus{\grecpTorculusOneTwoNothing}%
\def\gre@char@torculusdeminutus{\grecpTorculusTwoTwoDeminutus}%
\def\gre@char@porrectus@one{\grecpPorrectusOneTwoNothing}%
\def\gre@char@porrectus@two{\grecpPorrectusTwoTwoNothing}%
\def\gre@char@porrectus@three{\grecpPorrectusThreeTwoNothing}%
\def\gre@char@porrectus@four{\grecpPorrectusFourTwoNothing}%
\def\gre@char@porrectus@five{\grecpPorrectusFiveTwoNothing}%
\def\gre@char@porrectus@amone@one{\grecpPorrectusOneOneNothing}%
\def\gre@char@porrectus@amone@two{\grecpPorrectusTwoOneNothing}%
\def\gre@char@porrectus@amone@three{\grecpPorrectusThreeOneNothing}%
\def\gre@char@porrectus@amone@four{\grecpPorrectusFourOneNothing}%
\def\gre@char@porrectus@amone@five{\grecpPorrectusFiveOneNothing}%
\def\gre@char@leading@debilis{\grecpLeadingPunctumOneInitioDebilis}%
\def\gre@char@leading@punctum@one{\grecpLeadingPunctumOne}%
\def\gre@char@leading@quilisma@one{\grecpLeadingQuilismaOne}%
\def\gre@char@leading@oriscus@one{\grecpLeadingOriscusOne}%
\def\gre@char@leading@punctum@two{\grecpLeadingPunctumTwo}%
\def\gre@char@leading@quilisma@two{\grecpLeadingQuilismaTwo}%
\def\gre@char@leading@oriscus@two{\grecpLeadingOriscusTwo}%
\def\gre@char@fuse@punctum@one{\grefusetwo{\grecpLeadingPunctumOne}{\grecpPunctum}}%
\def\gre@char@fuse@quilisma@one{\grefusetwo{\grecpLeadingQuilismaOne}{\grecpPunctum}}%
\def\gre@char@fuse@oriscus@one{\grefusetwo{\grecpLeadingOriscusOne}{\grecpPunctum}}%
\def\gre@char@fuse@punctum@two{\grefusetwo{\grecpLeadingPunctumTwo}{\grecpPunctum}}%
\def\gre@char@fuse@quilisma@two{\grefusetwo{\grecpLeadingQuilismaTwo}{\grecpPunctum}}%
\def\gre@char@fuse@oriscus@two{\grefusetwo{\grecpLeadingOriscusTwo}{\grecpPunctum}}%
\def\gre@char@fuse@debilis{\grefusetwo{\grecpLeadingPunctumOneInitioDebilis}{\grecpPunctum}}%

% signs
\def\gre@char@curlybrace{\grecpCurlyBrace}%
\def\gre@char@barbrace{\grecpBarBrace}%
\def\gre@char@brace{\grecpRoundBrace}%
\def\gre@char@bracedown{\grecpRoundBraceDown}%
\def\gre@char@linea{\grecpLinea}%
\def\gre@char@vepisemus{\grecpVEpisemus}%
\def\gre@char@accentus{\grecpAccentus}%
\def\gre@char@semicirculus{\grecpSemicirculus}%
\def\gre@char@circulus{\grecpCirculus}%
\def\gre@char@reversedaccentus{\grecpAccentusReversus}%
\def\gre@char@reversedsemicirculus{\grecpSemicirculusReversus}%

% horizontal episemus
\newbox\gre@hep@box%
\def\gre@def@char@he#1#2{%
  \expandafter\def\csname gre@char@he@#1\endcsname##1{%
    \ifx##1f\csname grecpHEpisemus#2\endcsname%
    \else%
      \setbox\gre@hep@box\hbox{\csname grecpHEpisemus#2\endcsname}%
      \hbox to \wd\gre@hep@box{%
        \ifx##1l\else\hfil\fi%
        \csname grecpHEpisemus#2Reduced\endcsname%
        \ifx##1r\else\hfil\fi%
      }%
    \fi%
  }%
}%
\def\gre@def@char@he@porr#1#2{
  \expandafter\def\csname gre@char@he@#1\endcsname##1##2{%
    \ifcase##1\gre@char@he@punctum{##2}%
    \or\csname grecpHEpisemus#2One\endcsname%
    \or\csname grecpHEpisemus#2Two\endcsname%
    \or\csname grecpHEpisemus#2Three\endcsname%
    \or\csname grecpHEpisemus#2Four\endcsname%
    \or\csname grecpHEpisemus#2Five\endcsname%
    \fi%
  }%
}%
\gre@def@char@he{punctum}{Punctum}%
\gre@def@char@he{punctum@line@br}{PunctumLineBR}%
\gre@def@char@he{punctum@line@tr}{PunctumLineTR}%
\gre@def@char@he{punctum@line@tl}{PunctumLineTL}%
\gre@def@char@he{punctum@line@bl}{PunctumLineBL}%
\gre@def@char@he{punctum@line@blbr}{PunctumLineBLBR}%
\gre@def@char@he{punctumauctus@line@bl}{PunctumAuctusLineBL}%
\gre@def@char@he{flexus}{FlexusDeminutus}%
\gre@def@char@he{initio}{Debilis}%
\gre@def@char@he{virga}{Virga}%
\gre@def@char@he{virga@line@br}{VirgaLineBR}%
\gre@def@char@he{inclinatum}{Inclinatum}%
\gre@def@char@he{inclinatumdem}{InclinatumDeminutus}%
\gre@def@char@he{stropha}{Stropha}%
\gre@def@char@he@porr{porrectus}{Porrectus}%
\gre@def@char@he@porr{porrectus@amone}{PorrectusAmOne}%
\gre@def@char@he@porr{porrectusfl}{PorrectusFlexus}%
\gre@def@char@he{quilisma}{Quilisma}%
\gre@def@char@he{quilisma@line@tr}{QuilismaLineTR}%
\gre@def@char@he{oriscus}{Oriscus}%
\gre@def@char@he{oriscus@line@tr}{OriscusLineTR}%
\gre@def@char@he{smallpunctum}{HighPes}% "smallpunctum" is the top punctum in a pes

\def\greflatchar{\gregoriofont\grecpFlat}%
\def\greflatholechar{\gregoriofont\grecpFlatHole}%
\def\grenaturalchar{\gregoriofont\grecpNatural}%
\def\grenaturalholechar{\gregoriofont\grecpNaturalHole}%
\def\gresharpchar{\gregoriofont\grecpSharp}%
\def\gresharpholechar{\gregoriofont\grecpSharpHole}%
\def\grecclefchar{\gregoriofont\grecpCClef}%
\def\grefclefchar{\gregoriofont\grecpFClef}%
\def\greincclefchar{\gregoriofont\grecpCClefChange}%
\def\greinfclefchar{\gregoriofont\grecpFClefChange}%
\def\grepunctummorachar{\gregoriofont\grecpAuctumMora}%
\def\greverticalepisemuschar{\gregoriofont\grecpVEpisemus}%
\def\grecustotoplongchar{\gregoriofont\grecpCustosUpLong}%
\def\grecustotopshortchar{\gregoriofont\grecpCustosUpShort}%
\def\grecustotopmiddlechar{\gregoriofont\grecpCustosUpMedium}%
\def\grecustobottomlongchar{\gregoriofont\grecpCustosDownLong}%
\def\grecustobottomshortchar{\gregoriofont\grecpCustosDownShort}%
\def\grecustobottommiddlechar{\gregoriofont\grecpCustosDownMedium}%
\def\greabovebarbracechar{\gregoriofont\grecpBarBrace}%
\def\grepunctumchar{\gregoriofont\grecpPunctum}%

%%%%%%%%%%%%%%%%%
% macros for the different styles%
%%%%%%%%%%%%%%%%%

\def\greusedefaultstyle{%
\greresetglyph{Flat}%
\greresetglyph{FlatHole}%
\greresetglyph{Natural}%
\greresetglyph{NaturalHole}%
\greresetglyph{Sharp}%
\greresetglyph{SharpHole}%
\greresetglyph{CClef}%
\greresetglyph{FClef}%
\greresetglyph{CClefChange}%
\greresetglyph{FClefChange}%
\greresetglyph{AuctumMora}%
\greresetglyph{VEpisemus}%
\greresetglyph{CustosUpLong}%
\greresetglyph{CustosUpShort}%
\greresetglyph{CustosUpMedium}%
\greresetglyph{CustosDownLong}%
\greresetglyph{CustosDownShort}%
\greresetglyph{CustosDownMedium}%
\greresetglyph{BarBrace}%
\greresetglyph{Punctum}%
\relax %
}%

\def\greusemedicaeastyle{%
\greusedefaultstyle\greusestylecommon %
\grechangeglyph{CustosUpLong}{greextra}{MedicaeaCustosUpLong}%
\grechangeglyph{CustosUpShort}{greextra}{MedicaeaCustosUpShort}%
\grechangeglyph{CustosUpMedium}{greextra}{MedicaeaCustosUpMedium}%
\grechangeglyph{CustosDownLong}{greextra}{MedicaeaCustosDownLong}%
\grechangeglyph{CustosDownShort}{greextra}{MedicaeaCustosDownShort}%
\grechangeglyph{CustosDownMedium}{greextra}{MedicaeaCustosDownMedium}%
\grechangeglyph{CClef}{greextra}{MedicaeaCClef}%
\grechangeglyph{FClef}{greextra}{MedicaeaFClef}%
\grechangeglyph{CClefChange}{greextra}{MedicaeaCClefChange}%
\grechangeglyph{FClefChange}{greextra}{MedicaeaFClefChange}%
\grechangeglyph{Flat}{greextra}{MedicaeaFlat}%
\grechangeglyph{FlatHole}{greextra}{MedicaeaFlatHole}%
\relax %
}%

\def\greusehufnagelstyle{%
\greusedefaultstyle\greusestylecommon %
\grechangeglyph{CustosUpLong}{greextra}{HufnagelCustosUpLong}%
\grechangeglyph{CustosUpShort}{greextra}{HufnagelCustosUpShort}%
\grechangeglyph{CustosUpMedium}{greextra}{HufnagelCustosUpMedium}%
\grechangeglyph{CustosDownLong}{greextra}{HufnagelCustosDownLong}%
\grechangeglyph{CustosDownShort}{greextra}{HufnagelCustosDownShort}%
\grechangeglyph{CustosDownMedium}{greextra}{HufnagelCustosDownMedium}%
\grechangeglyph{CClef}{greextra}{HufnagelCClef}%
\grechangeglyph{FClef}{greextra}{HufnagelFClef}%
\grechangeglyph{CClefChange}{greextra}{HufnagelCClefChange}%
\grechangeglyph{FClefChange}{greextra}{HufnagelFClefChange}%
\grechangeglyph{Flat}{greextra}{HufnagelFlat}%
\grechangeglyph{FlatHole}{greextra}{HufnagelFlatHole}%
\relax %
}%

\def\greusemensuralstyle{%
\greusedefaultstyle\greusestylecommon %
\grechangeglyph{CustosUpLong}{greextra}{MensuralCustosUpLong}%
\grechangeglyph{CustosUpShort}{greextra}{MensuralCustosUpShort}%
\grechangeglyph{CustosUpMedium}{greextra}{MensuralCustosUpMedium}%
\grechangeglyph{CustosDownLong}{greextra}{MensuralCustosDownLong}%
\grechangeglyph{CustosDownShort}{greextra}{MensuralCustosDownShort}%
\grechangeglyph{CustosDownMedium}{greextra}{MensuralCustosDownMedium}%
\grechangeglyph{Flat}{greextra}{MensuralFlat}%
\grechangeglyph{FlatHole}{greextra}{MensuralFlatHole}%
\relax %
}%
