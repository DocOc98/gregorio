% !TEX root = GregorioRef.tex
% !TEX program = LuaLaTeX+se
\section{Gregorio Controls}

These functions are the ones written by Gregorio to the gtex file.
While one could, in theory, use/change them to alter the appearance of
elements of the score, it is far better to make your changes in the
gabc file and let Gregorio make the changes to the gtex file.

\macroname{\textbackslash GreBeginScore}{}{gregoriotex-main.tex}
Macro to start a score.

\macroname{\textbackslash GreEndScore}{}{gregoriotex-main.tex}
Macro to end a score.

\macroname{\textbackslash GreAccentus}{\#1\#2}{gregoriotex-signs.tex}
Macro for typesetting an accentus.

\begin{argtable}
  \#1 & character & height of episemus\\
  \#2 & integer   & Type of glyph the episemus is attached to. See \nameref{EpisemusSpecial} argument for description of options.\\
\end{argtable}

\macroname{\textbackslash GreAdditionalLine}{\#1\#2\#3}{gregoriotex-signs.tex}
Macro to typeset the additional line above or below the staff.

\begin{argtable}
  \#1 & special & See \nameref{EpisemusSpecial}.\\
  \#2 & integer & The ambitus of the porrectus or porrectus flexes if the first argument is 9, 10, 11, 21, 22, 23; ignored otherwise.\\
  \#3 & integer & Set horizontal episemus (0), horizontal episemus under a note (1), line at top of staff (2), line at bottom of staff (3), choral sign (4).\\
\end{argtable}

\macroname{\textbackslash GreAdjustSecondLine}{gregoriotex.tex}
%didn't actually find this one in gregoriotex-write.c, classified it here based on itâ€™s related function GreAdjustThirdLine
Macro to call before first syllable, but after \verb=\GreSetInitialClef=.

\macroname{\textbackslash GreAdjustThirdLine}{gregoriotex-main.tex}
Macro to call during the second line.

\macroname{\textbackslash GreAugmentumDuplex}{\#1\#2\#3}{gregoriotex-signs.tex}
Macro for typesetting an augmentum duplex (a pair of punctum mora)

\begin{argtable}
  \#1 & character & Height for first punctum mora.\\
  \#2 & character & Height for second punctum mora.\\
  \#3 & integer   & First punctum mora occurs before last note of a podatus, prorectus, or toculus resupinus (1), or not (0).\\
\end{argtable}

\macroname{\textbackslash GreBarBrace}{\#1}{gregoriotex-signs.tex}
Macro for typesetting a bar brace.

\begin{argtable}
  \#1 & integer & Type of glyph the episemus is attached to.  See \nameref{EpisemusSpecial} argument for description of options.\\
\end{argtable}

\macroname{\textbackslash GreBarSyllable}{\#1\#2\#3\#4\#5\#6\#7\#8\#9}{gregoriotex-syllable.tex}
Macro for typesetting a bar syllable.

\begin{argtable}
  \#1 & string & First part of syllable text associated with the bar.\\
  \#2 & string & Middle part of the syllable text associated with the bar.\\
  \#3 & string & End part of the syllable text associated with the bar.\\
  \#4 & & Not used.\\
  \#5 & \TeX\ code & Code to execute before calculating \texttt{nextbegindifference}.\\
  \#6 & & Not used.\\
  \#7 & $0 <$ integer $< 19$ & the type of notes alignment.  See \nameref{notesalign}.\\
  & $20 <$ integer $< 39$ & Same as below 20 except there is a flat before the notes.  Subtract 20 to get the type of notes alignment.\\
  & $40 <$ integer $< 59$ & Same as below 20 except there is a natural before the notes.  Subtract 40 to get the type of notes alignment.\\
  \#8 & \TeX\ code & Code to execute before  printing anything.\\
  \#9 & \texttt{GreWriteBar} & The bar line.
\end{argtable}

\macroname{\textbackslash GreBarVEpisemus}{\#1}{gregoriotex-signs.tex}
Macro to typeset a vertical episemus around a bar.

\begin{argtable}
  \#1 & integer & Type of glyph the episemus is attached to.  See \nameref{EpisemusSpecial} argument for description of options.\\
\end{argtable}

\macroname{\textbackslash GreBeginNLBArea}{\#1\#2}{gregoriotex-main.tex}
Macro called at beginning of a no line break area.

\begin{argtable}
  \#1 & 0 & Not in the neumes.\\
      & 1 & In the neumes.\\
  \#2 & 0 & Call didn't come from translation centering.\\
      & 1 & Call came from translation centering.
\end{argtable}

\macroname{\textbackslash GreBeginNotes}{}{gregoriotex.tex}
Macro to draw the staff lines.  Comes after the initial but before the clef.

\macroname{\textbackslash GreBold}{\#1}{gregoriotex.sty and gregoriotex.tex}
Makes argument bold.  Accesses \LaTeX\ \verb=\textbf= (\textit{gregoriotex.sty}) or Plain\TeX\ \verb=\bf= (\textit{gregoriotex.tex}) as appropriate.  Corresponds to ``<b></b>'' tags in gabc.

\begin{argtable}
  \#1 & string & Text to be typeset in bold.\\
\end{argtable}

\macroname{\textbackslash GreGhangeClef}{\#1\#2\#3\#4}{gregoriotex-signs.tex}
Macro called when key changes

\begin{argtable}
  \#1 & character & Type of new clef (c or f).\\
  \#2 & integer   & Line of new clef.\\
  \#3 & 0         & Print space before clef.\\
      & 1         & Do not print space before clef.\\
  \#4 & character & Height of flat in key (`a' for no flat).\\
\end{argtable}

\macroname{\textbackslash GreCirculus}{\#1\#2}{gregoriotex-signs.tex}
Macro for typesetting a circulus.

\begin{argtable}
  \#1 & character & Height of circulus.\\
  \#2 & integer   & Type of glyph the circulus is attached to.  See \nameref{EpisemusSpecial} argument for description of options.\\
\end{argtable}

\macroname{\textbackslash GreColored}{\#1}{gregoriotex.sty and gregoriotex.tex}
Colors argument (a string) in \verb=gregoriocolor.=  Corresponds to ``<c></c>'' tags in gabc.  Does nothing in Plain\TeX\ because color is not supported there.

\macroname{\textbackslash GreCusto}{\#1}{gregoriotex-signs.tex}
Typesets a custo.

\begin{argtable}
  \#1 & character & Height of custo.\\
\end{argtable}

\macroname{\textbackslash GreDagger}{}{gregoriotex-symbols.tex}
Macro to typeset a dagger (\GreDagger).

\macroname{\textbackslash GreDiscretionary}{\#1\#2}{gregoriotex-signs.tex}
A GregorioTeX specific discretionary used to avoid clef change at beginning or end of line, or even with more complex data (z0::c3 for instance).  We require a special function because in the normal discretionary function you cannot use \hskip (but you can use kern) and you cannot use \penalty (which is useless indeed).  This macro corrects for these two limitations.

\macroname{\textbackslash GreEndOfElement}{\#1\#2}{gregoriotex-main.tex}
Macro to end elements.

\begin{argtable}
  \#1 & 0 & Default space.\\
      & 1 & Larger space.\\
      & 2 & Glyph space.\\
      & 3 & Zero-width space.\\
  \#2 & 0 & Space is breakable.\\
      & 1 & Space is unbreakable.\\
\end{argtable}

\macroname{\textbackslash greendofglyph\#1}{gregoriotex-main.tex}
Macro to end a glyph without ending the element.

\begin{argtable}
  \#1 & 0 & Default space.\\
      & 1 & Zero-width space.\\
      & 2 & Space between flat or natural and a note.\\
      & 3 & Space between two puncta inclinata.\\
      & 4 & Space between bivirga or trivirga.\\
      & 5 & space between bistropha or tristropha.\\
      & 6 & Space after a punctum mora XXX: not used yet, not so sure it is a good idea\ldots\\
      & 7 & Space between a punctum inclinatum and a punctum inclinatum debilis.\\
      & 8 & Space between two puncta inclinata debilis.\\
      & 9 & Space before a punctum (or something else) and a punctum inclinatum.\\
      & 10 & Space between puncta inclinata (also debilis for now), larger ambitus (range=3rd).\\
      & 11 & Space between puncta inclinata (also debilis for now), larger ambitus (range=4th or more).\\
\end{argtable}

\macroname{\textbackslash GreFirstLineBottomSpace}{\#1\#2}{gregoriotex-spaces.tex}
Macro for calculating the additional space needed below the first line of the score.

\begin{argtable}
  \#1 & 0 & no notes below the staff\\
  & 1 & note below the first staff line (c position)\\
  & 2 & note on the 0 staff line (b position)\\
  & 3 & note below the 0 staff line (a position)\\
  & 4 & note below the 0 staff line with a vertical episemus attached\\
  \#2 & 1 & there is a translation below the text\\
  & 0 & there is no translation below the text
\end{argtable}



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "GregorioRef"
%%% End:
